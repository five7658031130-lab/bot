# Advanced Music Bot - Replit Documentation

## ğŸ“‹ Project Overview

**Project Name**: Advanced Telegram Music Bot
**Owner**: @Sexuatic (User ID: 7619316793)
**Bot Username**: @VexPulseBot
**Created**: October 2025
**Platform**: Telegram Bot using Pyrogram

## ğŸ¯ Project Purpose

An advanced Telegram music bot that provides:
- Music downloads from multiple platforms (YouTube, Spotify, SoundCloud)
- Voice recognition using Shazam API
- Lyrics fetching
- Inline mode for quick searches
- Comprehensive owner commands for bot management

## ğŸ—ï¸ Architecture

### Core Components

1. **bot.py** - Main bot initialization with error handling and startup validation
2. **config.py** - Configuration management with environment variable support
3. **plugins/** - Modular plugin system for features
4. **utils/** - Utility functions for downloads, lyrics, voice recognition

### Technology Stack

- **Language**: Python 3.11
- **Framework**: Pyrogram 2.0.106 (Telegram MTProto API)
- **Download**: yt-dlp for YouTube/other platforms
- **Voice Recognition**: Shazamio (Shazam API)
- **Audio Processing**: FFmpeg
- **Async**: aiohttp, aiofiles for async operations

### Plugin System

All features are modular plugins in `plugins/`:
- `start.py` - Welcome messages and help
- `music.py` - Music search and download
- `lyrics.py` - Lyrics fetching
- `voice.py` - Voice/audio recognition
- `inline.py` - Inline query handling
- `owner.py` - Basic owner commands
- `advanced_owner.py` - Advanced system commands

## ğŸ”‘ Credentials & Configuration

### Required Credentials (Already Set)
- **API_ID**: 28807899
- **API_HASH**: f5a090037ba4cc92c3a87e4744e66003
- **BOT_TOKEN**: 8039358878:AAGg38C2-wuqTGzSw8XVTVGC9sRG6gHHTO8
- **OWNER_ID**: 7619316793
- **OWNER_USERNAME**: Sexuatic
- **OWNER_SECRET_PASSWORD**: fiVe55@@

### Optional API Keys
- Spotify (for Spotify downloads)
- Genius (for lyrics)
- MongoDB (for persistent storage)

## ğŸ“ Directory Structure

```
/
â”œâ”€â”€ bot.py                    # Main entry point
â”œâ”€â”€ config.py                 # Configuration
â”œâ”€â”€ requirements.txt          # Python dependencies
â”œâ”€â”€ .gitignore               # Git ignore rules
â”œâ”€â”€ README.md                # User documentation
â”œâ”€â”€ replit.md                # This file
â”‚
â”œâ”€â”€ plugins/                 # All bot features
â”‚   â”œâ”€â”€ start.py            # /start, /help commands
â”‚   â”œâ”€â”€ music.py            # Music download & search
â”‚   â”œâ”€â”€ lyrics.py           # Lyrics fetching
â”‚   â”œâ”€â”€ voice.py            # Voice recognition
â”‚   â”œâ”€â”€ inline.py           # Inline mode
â”‚   â”œâ”€â”€ owner.py            # Owner commands
â”‚   â””â”€â”€ advanced_owner.py   # Advanced owner features
â”‚
â”œâ”€â”€ utils/                   # Helper utilities
â”‚   â”œâ”€â”€ downloader.py       # YouTube/music downloads
â”‚   â”œâ”€â”€ lyrics_fetcher.py   # Lyrics API integration
â”‚   â”œâ”€â”€ voice_recognition.py # Shazam integration
â”‚   â””â”€â”€ database.py         # User data management
â”‚
â”œâ”€â”€ downloads/               # Temporary downloads
â”œâ”€â”€ cache/                   # Cached files
â”œâ”€â”€ temp/                    # Temporary files
â””â”€â”€ logs/                    # Bot logs
```

## ğŸµ Features Implementation

### 1. Music Download System
- YouTube search and download via yt-dlp
- Quality selection (128-320kbps)
- Smart caching to avoid re-downloads
- Progress tracking
- Automatic file cleanup

### 2. Voice Recognition
- Shazam API integration
- Identifies songs from audio/voice messages
- Returns song title, artist, album info

### 3. Lyrics System
- Multiple lyrics sources with fallback
- API-based lyrics fetching
- Formatted display with song info

### 4. Inline Mode
- Search music from any chat
- Interactive results with buttons
- Quick download access

### 5. Owner Commands (Hidden)
**Basic** (owner.py):
- Authentication system
- Broadcast to all users
- Bot statistics
- Log retrieval
- File cleanup
- Bot restart

**Advanced** (advanced_owner.py):
- Python code execution (`/eval`)
- Shell command execution (`/shell`)
- User management (ban/unban)
- User info retrieval
- System statistics
- Database stats
- Direct messaging to users

## ğŸš€ Deployment

### Current Setup
- **Platform**: Replit
- **Runtime**: Python 3.11
- **Workflow**: `python bot.py` (auto-running)
- **Dependencies**: All installed via pip

### Workflow Configuration
The bot runs automatically via the "Music Bot" workflow which executes `python bot.py`.

## ğŸ”’ Security Features

1. **Owner Authentication**: Password-required for sensitive commands
2. **Rate Limiting**: Download cooldown system
3. **User Ban System**: Block abusive users
4. **Secure Credentials**: Environment-based configuration
5. **Input Validation**: All user inputs validated

## ğŸ“Š Monitoring & Logs

- **Log Location**: `logs/bot.log`
- **Log Rotation**: Automatic
- **Monitoring**: Real-time console output
- **Statistics**: User downloads, system resources

## ğŸ› ï¸ Maintenance

### Regular Tasks
1. Check logs for errors
2. Clean temporary files (`/cleanup`)
3. Monitor system resources (`/sysstats`)
4. Update dependencies when needed

### Troubleshooting
- Check workflow logs if bot stops
- Verify credentials in config.py
- Ensure FFmpeg is installed
- Check disk space for downloads

## ğŸ“ˆ Future Enhancements

Potential features to add:
- Playlist management
- User favorites/history
- Advanced audio effects
- Video streaming support
- Multi-language support
- Web dashboard
- Database integration for stats
- Scheduled downloads
- User subscription tiers

## ğŸ‘¤ Owner Information

**Owner**: @Sexuatic
**User ID**: 7619316793
**Bot**: @VexPulseBot (ID: 8039358878)

### Owner Command Access
1. Message bot `/auth fiVe55@@`
2. Access all hidden commands
3. Full bot control and management

## ğŸ“ Development Notes

### Code Style
- PEP 8 compliant
- Async/await pattern throughout
- Comprehensive error handling
- Detailed logging
- Modular plugin architecture

### Best Practices
- Never hardcode credentials
- Always validate user input
- Log all important actions
- Clean up temporary files
- Handle all exceptions gracefully

### Plugin Development
To add new features:
1. Create new file in `plugins/`
2. Use `@Client.on_message()` decorator
3. Import config from `config.py`
4. Add logging for debugging
5. Handle errors properly

## ğŸ”— Important Links

- Bot: https://t.me/VexPulseBot
- Owner: https://t.me/Sexuatic
- Pyrogram Docs: https://docs.pyrogram.org
- yt-dlp: https://github.com/yt-dlp/yt-dlp

---

**Last Updated**: October 15, 2025
**Status**: âœ… Active and Running
**Version**: 2.0 (Advanced)
